<h1>
    {{ course.title }}
</h1>
{% if parentUnit %}
    <h2>
        {{ parentUnit.title }}
    </h2>
{% endif %}

{% if course.data %}
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--12-col">
            <div class="mdl-card mdl-shadow--4dp courses-card-list__card">
                <div class="mdl-card__supporting-text">
                    {{ course.data }}
                </div>
            </div>
        </div>
    </div>
{% endif %}

<div class="mdl-grid courses-card-list cards-container">
    {% for unit in units %}
        <div class="mdl-cell mdl-cell--4-col">
            <div class="mdl-card mdl-shadow--4dp courses-card-list__card">
                <div class="mdl-card__title">
                    <h3 class="mdl-card__title-text">
                        {{ unit.title }}
                    </h3>
                </div>
                <div class="mdl-card__supporting-text mdl-card--expand">
                    {% if unit.data %}
                        {{ unit.data }}
                    {% else %}
                        There is no unit data
                    {% endif %}
                </div>
                <div class="mdl-card__actions mdl-card--border">
                    {% if unit.children.count > 0 %}
                        <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                           href="{{ 'course'|page({ slug: course.slug, child_slug: unit.slug }) }}">
                            Open unit
                        </a>
                    {% endif %}
                    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect ply-button-show ply-button-show_dialog_learning"
                       data-learn-id="{{ unit.id }}" data-learn-type="unit">
                        Start learning
                    </a>
                </div>
            </div>
        </div>
    {% endfor %}
</div>

{% put dialogs %}
<dialog class="mdl-dialog ply-learning-dialog">
    <form action="/learn" type="GET">
        <h4 class="mdl-dialog__title">How do you want to learn?</h4>

        <div class="mdl-dialog__content">
            <div class="form-row">
                <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="learning-type-1">
                    <input type="radio"
                           id="learning-type-1"
                           class="mdl-radio__button"
                           name="mode"
                           value="1"
                           checked>
                    <span class="mdl-radio__label">Listen</span>
                </label>
            </div>
            <div class="form-row">
                <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="learning-type-2">
                    <input type="radio"
                           id="learning-type-2"
                           class="mdl-radio__button"
                           name="mode"
                           value="2">
                    <span class="mdl-radio__label">Flash cards</span>
                </label>
            </div>
            <div class="form-row">
                <label class="mdl-radio mdl-js-radio mdl-js-ripple-effect" for="learning-type-3">
                    <input type="radio"
                           id="learning-type-3"
                           class="mdl-radio__button"
                           name="mode"
                           value="3">
                    <span class="mdl-radio__label">Typed input</span>
                </label>
            </div>
        </div>
        <div class="mdl-dialog__actions">
            <button type="submit" class="mdl-button">Submit</button>
            <button type="button" class="mdl-button close">Disagree</button>
        </div>
        <input type="hidden" id="learn-id" name="learn-id">
        <input type="hidden" id="learn-type" name="learn-type">
    </form>
</dialog>

{% endput %}